{"version":3,"sources":["../src/createBasicMarksPlugin.ts","../src/createBoldPlugin.ts","../src/createCodePlugin.ts","../src/createItalicPlugin.ts","../src/createStrikethroughPlugin.ts","../src/createSubscriptPlugin.ts","../src/createSuperscriptPlugin.ts","../src/createUnderlinePlugin.ts"],"sourcesContent":["import { createPluginFactory } from '@udecode/plate-common/server';\n\nimport { createBoldPlugin } from './createBoldPlugin';\nimport { createCodePlugin } from './createCodePlugin';\nimport { createItalicPlugin } from './createItalicPlugin';\nimport { createStrikethroughPlugin } from './createStrikethroughPlugin';\nimport { createSubscriptPlugin } from './createSubscriptPlugin';\nimport { createSuperscriptPlugin } from './createSuperscriptPlugin';\nimport { createUnderlinePlugin } from './createUnderlinePlugin';\n\nexport const KEY_BASIC_MARKS = 'basicMarks';\n\n/**\n * Enables support for basic marks:\n *\n * - Bold\n * - Code\n * - Italic\n * - Strikethrough\n * - Subscript\n * - Superscript\n * - Underline\n */\nexport const createBasicMarksPlugin = createPluginFactory({\n  key: KEY_BASIC_MARKS,\n  plugins: [\n    createBoldPlugin(),\n    createCodePlugin(),\n    createItalicPlugin(),\n    createStrikethroughPlugin(),\n    createSubscriptPlugin(),\n    createSuperscriptPlugin(),\n    createUnderlinePlugin(),\n  ],\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n} from '@udecode/plate-common/server';\n\nexport const MARK_BOLD = 'bold';\n\n/** Enables support for bold formatting */\nexport const createBoldPlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontWeight === 'normal'),\n    rules: [\n      { validNodeName: ['STRONG', 'B'] },\n      {\n        validStyle: {\n          fontWeight: ['600', '700', 'bold'],\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n\n  key: MARK_BOLD,\n  options: {\n    hotkey: 'mod+b',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  findHtmlParentElement,\n  onKeyDownToggleMark,\n} from '@udecode/plate-common/server';\n\nexport const MARK_CODE = 'code';\n\n/** Enables support for code formatting */\nexport const createCodePlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    query(el) {\n      const blockAbove = findHtmlParentElement(el, 'P');\n\n      if (blockAbove?.style.fontFamily === 'Consolas') return false;\n\n      return !findHtmlParentElement(el, 'PRE');\n    },\n    rules: [\n      {\n        validNodeName: ['CODE'],\n      },\n      {\n        validStyle: {\n          fontFamily: 'Consolas',\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_CODE,\n  options: {\n    hotkey: 'mod+e',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n} from '@udecode/plate-common/server';\n\nexport const MARK_ITALIC = 'italic';\n\n/** Enables support for italic formatting. */\nexport const createItalicPlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontStyle === 'normal'),\n    rules: [\n      { validNodeName: ['EM', 'I'] },\n      {\n        validStyle: {\n          fontStyle: 'italic',\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_ITALIC,\n  options: {\n    hotkey: 'mod+i',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n} from '@udecode/plate-common/server';\n\nexport const MARK_STRIKETHROUGH = 'strikethrough';\n\n/** Enables support for strikethrough formatting. */\nexport const createStrikethroughPlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n    rules: [\n      { validNodeName: ['S', 'DEL', 'STRIKE'] },\n      {\n        validStyle: {\n          textDecoration: 'line-through',\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_STRIKETHROUGH,\n  options: {\n    hotkey: 'mod+shift+x',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n} from '@udecode/plate-common/server';\n\nexport const MARK_SUBSCRIPT = 'subscript';\n\nconst MARK_SUPERSCRIPT = 'superscript';\n\n/** Enables support for subscript formatting. */\nexport const createSubscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUB'] },\n      {\n        validStyle: {\n          verticalAlign: 'sub',\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_SUBSCRIPT,\n  options: {\n    clear: MARK_SUPERSCRIPT,\n    hotkey: 'mod+,',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n} from '@udecode/plate-common/server';\n\nexport const MARK_SUPERSCRIPT = 'superscript';\n\nconst MARK_SUBSCRIPT = 'subscript';\n\n/** Enables support for superscript formatting. */\nexport const createSuperscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUP'] },\n      {\n        validStyle: {\n          verticalAlign: 'super',\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_SUPERSCRIPT,\n  options: {\n    clear: MARK_SUBSCRIPT,\n    hotkey: 'mod+.',\n  },\n});\n","import {\n  type ToggleMarkPlugin,\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n} from '@udecode/plate-common/server';\n\nexport const MARK_UNDERLINE = 'underline';\n\n/** Enables support for underline formatting. */\nexport const createUnderlinePlugin = createPluginFactory<ToggleMarkPlugin>({\n  deserializeHtml: {\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n    rules: [\n      {\n        validNodeName: ['U'],\n      },\n      {\n        validStyle: {\n          textDecoration: ['underline'],\n        },\n      },\n    ],\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  isLeaf: true,\n  key: MARK_UNDERLINE,\n  options: {\n    hotkey: 'mod+u',\n  },\n});\n"],"mappings":";AAAA,SAAS,uBAAAA,4BAA2B;;;ACApC;AAAA,EAEE;AAAA,EACA;AAAA,EACA;AAAA,OACK;AAEA,IAAM,YAAY;AAGlB,IAAM,mBAAmB,oBAAsC;AAAA,EACpE,iBAAiB;AAAA,IACf,OAAO,CAAC,OACN,CAAC,gBAAgB,IAAI,CAAC,SAAS,KAAK,MAAM,eAAe,QAAQ;AAAA,IACnE,OAAO;AAAA,MACL,EAAE,eAAe,CAAC,UAAU,GAAG,EAAE;AAAA,MACjC;AAAA,QACE,YAAY;AAAA,UACV,YAAY,CAAC,OAAO,OAAO,MAAM;AAAA,QACnC;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAW;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EAER,KAAK;AAAA,EACL,SAAS;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;AChCD;AAAA,EAEE,uBAAAC;AAAA,EACA;AAAA,EACA,uBAAAC;AAAA,OACK;AAEA,IAAM,YAAY;AAGlB,IAAM,mBAAmBD,qBAAsC;AAAA,EACpE,iBAAiB;AAAA,IACf,MAAM,IAAI;AACR,YAAM,aAAa,sBAAsB,IAAI,GAAG;AAEhD,WAAI,yCAAY,MAAM,gBAAe;AAAY,eAAO;AAExD,aAAO,CAAC,sBAAsB,IAAI,KAAK;AAAA,IACzC;AAAA,IACA,OAAO;AAAA,MACL;AAAA,QACE,eAAe,CAAC,MAAM;AAAA,MACxB;AAAA,MACA;AAAA,QACE,YAAY;AAAA,UACV,YAAY;AAAA,QACd;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWC;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,SAAS;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;ACtCD;AAAA,EAEE,uBAAAC;AAAA,EACA,uBAAAC;AAAA,EACA,mBAAAC;AAAA,OACK;AAEA,IAAM,cAAc;AAGpB,IAAM,qBAAqBF,qBAAsC;AAAA,EACtE,iBAAiB;AAAA,IACf,OAAO,CAAC,OACN,CAACE,iBAAgB,IAAI,CAAC,SAAS,KAAK,MAAM,cAAc,QAAQ;AAAA,IAClE,OAAO;AAAA,MACL,EAAE,eAAe,CAAC,MAAM,GAAG,EAAE;AAAA,MAC7B;AAAA,QACE,YAAY;AAAA,UACV,WAAW;AAAA,QACb;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWD;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,SAAS;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;AC/BD;AAAA,EAEE,uBAAAE;AAAA,EACA,uBAAAC;AAAA,EACA,mBAAAC;AAAA,OACK;AAEA,IAAM,qBAAqB;AAG3B,IAAM,4BAA4BF,qBAAsC;AAAA,EAC7E,iBAAiB;AAAA,IACf,OAAO,CAAC,OACN,CAACE,iBAAgB,IAAI,CAAC,SAAS,KAAK,MAAM,mBAAmB,MAAM;AAAA,IACrE,OAAO;AAAA,MACL,EAAE,eAAe,CAAC,KAAK,OAAO,QAAQ,EAAE;AAAA,MACxC;AAAA,QACE,YAAY;AAAA,UACV,gBAAgB;AAAA,QAClB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWD;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,SAAS;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;AC/BD;AAAA,EAEE,uBAAAE;AAAA,EACA,uBAAAC;AAAA,OACK;AAEA,IAAM,iBAAiB;AAE9B,IAAM,mBAAmB;AAGlB,IAAM,wBAAwBD,qBAAsC;AAAA,EACzE,iBAAiB;AAAA,IACf,OAAO;AAAA,MACL,EAAE,eAAe,CAAC,KAAK,EAAE;AAAA,MACzB;AAAA,QACE,YAAY;AAAA,UACV,eAAe;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWC;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,SAAS;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;AC/BD;AAAA,EAEE,uBAAAC;AAAA,EACA,uBAAAC;AAAA,OACK;AAEA,IAAMC,oBAAmB;AAEhC,IAAMC,kBAAiB;AAGhB,IAAM,0BAA0BH,qBAAsC;AAAA,EAC3E,iBAAiB;AAAA,IACf,OAAO;AAAA,MACL,EAAE,eAAe,CAAC,KAAK,EAAE;AAAA,MACzB;AAAA,QACE,YAAY;AAAA,UACV,eAAe;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWC;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAKC;AAAA,EACL,SAAS;AAAA,IACP,OAAOC;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;AC/BD;AAAA,EAEE,uBAAAC;AAAA,EACA,uBAAAC;AAAA,EACA,mBAAAC;AAAA,OACK;AAEA,IAAM,iBAAiB;AAGvB,IAAM,wBAAwBF,qBAAsC;AAAA,EACzE,iBAAiB;AAAA,IACf,OAAO,CAAC,OACN,CAACE,iBAAgB,IAAI,CAAC,SAAS,KAAK,MAAM,mBAAmB,MAAM;AAAA,IACrE,OAAO;AAAA,MACL;AAAA,QACE,eAAe,CAAC,GAAG;AAAA,MACrB;AAAA,MACA;AAAA,QACE,YAAY;AAAA,UACV,gBAAgB,CAAC,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAU;AAAA,IACR,WAAWD;AAAA,EACb;AAAA,EACA,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,SAAS;AAAA,IACP,QAAQ;AAAA,EACV;AACF,CAAC;;;APvBM,IAAM,kBAAkB;AAaxB,IAAM,yBAAyBE,qBAAoB;AAAA,EACxD,KAAK;AAAA,EACL,SAAS;AAAA,IACP,iBAAiB;AAAA,IACjB,iBAAiB;AAAA,IACjB,mBAAmB;AAAA,IACnB,0BAA0B;AAAA,IAC1B,sBAAsB;AAAA,IACtB,wBAAwB;AAAA,IACxB,sBAAsB;AAAA,EACxB;AACF,CAAC;","names":["createPluginFactory","createPluginFactory","onKeyDownToggleMark","createPluginFactory","onKeyDownToggleMark","someHtmlElement","createPluginFactory","onKeyDownToggleMark","someHtmlElement","createPluginFactory","onKeyDownToggleMark","createPluginFactory","onKeyDownToggleMark","MARK_SUPERSCRIPT","MARK_SUBSCRIPT","createPluginFactory","onKeyDownToggleMark","someHtmlElement","createPluginFactory"]}