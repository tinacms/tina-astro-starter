"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/index.ts
var src_exports = {};
__export(src_exports, {
  KEY_BASIC_MARKS: () => KEY_BASIC_MARKS,
  MARK_BOLD: () => MARK_BOLD,
  MARK_CODE: () => MARK_CODE,
  MARK_ITALIC: () => MARK_ITALIC,
  MARK_STRIKETHROUGH: () => MARK_STRIKETHROUGH,
  MARK_SUBSCRIPT: () => MARK_SUBSCRIPT,
  MARK_SUPERSCRIPT: () => MARK_SUPERSCRIPT2,
  MARK_UNDERLINE: () => MARK_UNDERLINE,
  createBasicMarksPlugin: () => createBasicMarksPlugin,
  createBoldPlugin: () => createBoldPlugin,
  createCodePlugin: () => createCodePlugin,
  createItalicPlugin: () => createItalicPlugin,
  createStrikethroughPlugin: () => createStrikethroughPlugin,
  createSubscriptPlugin: () => createSubscriptPlugin,
  createSuperscriptPlugin: () => createSuperscriptPlugin,
  createUnderlinePlugin: () => createUnderlinePlugin
});
module.exports = __toCommonJS(src_exports);

// src/createBasicMarksPlugin.ts
var import_server8 = require("@udecode/plate-common/server");

// src/createBoldPlugin.ts
var import_server = require("@udecode/plate-common/server");
var MARK_BOLD = "bold";
var createBoldPlugin = (0, import_server.createPluginFactory)({
  deserializeHtml: {
    query: (el) => !(0, import_server.someHtmlElement)(el, (node) => node.style.fontWeight === "normal"),
    rules: [
      { validNodeName: ["STRONG", "B"] },
      {
        validStyle: {
          fontWeight: ["600", "700", "bold"]
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_BOLD,
  options: {
    hotkey: "mod+b"
  }
});

// src/createCodePlugin.ts
var import_server2 = require("@udecode/plate-common/server");
var MARK_CODE = "code";
var createCodePlugin = (0, import_server2.createPluginFactory)({
  deserializeHtml: {
    query(el) {
      const blockAbove = (0, import_server2.findHtmlParentElement)(el, "P");
      if ((blockAbove == null ? void 0 : blockAbove.style.fontFamily) === "Consolas")
        return false;
      return !(0, import_server2.findHtmlParentElement)(el, "PRE");
    },
    rules: [
      {
        validNodeName: ["CODE"]
      },
      {
        validStyle: {
          fontFamily: "Consolas"
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server2.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_CODE,
  options: {
    hotkey: "mod+e"
  }
});

// src/createItalicPlugin.ts
var import_server3 = require("@udecode/plate-common/server");
var MARK_ITALIC = "italic";
var createItalicPlugin = (0, import_server3.createPluginFactory)({
  deserializeHtml: {
    query: (el) => !(0, import_server3.someHtmlElement)(el, (node) => node.style.fontStyle === "normal"),
    rules: [
      { validNodeName: ["EM", "I"] },
      {
        validStyle: {
          fontStyle: "italic"
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server3.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_ITALIC,
  options: {
    hotkey: "mod+i"
  }
});

// src/createStrikethroughPlugin.ts
var import_server4 = require("@udecode/plate-common/server");
var MARK_STRIKETHROUGH = "strikethrough";
var createStrikethroughPlugin = (0, import_server4.createPluginFactory)({
  deserializeHtml: {
    query: (el) => !(0, import_server4.someHtmlElement)(el, (node) => node.style.textDecoration === "none"),
    rules: [
      { validNodeName: ["S", "DEL", "STRIKE"] },
      {
        validStyle: {
          textDecoration: "line-through"
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server4.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_STRIKETHROUGH,
  options: {
    hotkey: "mod+shift+x"
  }
});

// src/createSubscriptPlugin.ts
var import_server5 = require("@udecode/plate-common/server");
var MARK_SUBSCRIPT = "subscript";
var MARK_SUPERSCRIPT = "superscript";
var createSubscriptPlugin = (0, import_server5.createPluginFactory)({
  deserializeHtml: {
    rules: [
      { validNodeName: ["SUB"] },
      {
        validStyle: {
          verticalAlign: "sub"
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server5.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_SUBSCRIPT,
  options: {
    clear: MARK_SUPERSCRIPT,
    hotkey: "mod+,"
  }
});

// src/createSuperscriptPlugin.ts
var import_server6 = require("@udecode/plate-common/server");
var MARK_SUPERSCRIPT2 = "superscript";
var MARK_SUBSCRIPT2 = "subscript";
var createSuperscriptPlugin = (0, import_server6.createPluginFactory)({
  deserializeHtml: {
    rules: [
      { validNodeName: ["SUP"] },
      {
        validStyle: {
          verticalAlign: "super"
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server6.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_SUPERSCRIPT2,
  options: {
    clear: MARK_SUBSCRIPT2,
    hotkey: "mod+."
  }
});

// src/createUnderlinePlugin.ts
var import_server7 = require("@udecode/plate-common/server");
var MARK_UNDERLINE = "underline";
var createUnderlinePlugin = (0, import_server7.createPluginFactory)({
  deserializeHtml: {
    query: (el) => !(0, import_server7.someHtmlElement)(el, (node) => node.style.textDecoration === "none"),
    rules: [
      {
        validNodeName: ["U"]
      },
      {
        validStyle: {
          textDecoration: ["underline"]
        }
      }
    ]
  },
  handlers: {
    onKeyDown: import_server7.onKeyDownToggleMark
  },
  isLeaf: true,
  key: MARK_UNDERLINE,
  options: {
    hotkey: "mod+u"
  }
});

// src/createBasicMarksPlugin.ts
var KEY_BASIC_MARKS = "basicMarks";
var createBasicMarksPlugin = (0, import_server8.createPluginFactory)({
  key: KEY_BASIC_MARKS,
  plugins: [
    createBoldPlugin(),
    createCodePlugin(),
    createItalicPlugin(),
    createStrikethroughPlugin(),
    createSubscriptPlugin(),
    createSuperscriptPlugin(),
    createUnderlinePlugin()
  ]
});
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  KEY_BASIC_MARKS,
  MARK_BOLD,
  MARK_CODE,
  MARK_ITALIC,
  MARK_STRIKETHROUGH,
  MARK_SUBSCRIPT,
  MARK_SUPERSCRIPT,
  MARK_UNDERLINE,
  createBasicMarksPlugin,
  createBoldPlugin,
  createCodePlugin,
  createItalicPlugin,
  createStrikethroughPlugin,
  createSubscriptPlugin,
  createSuperscriptPlugin,
  createUnderlinePlugin
});
//# sourceMappingURL=index.js.map